!function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var p="function"==typeof require&&require;if(!s&&p)return p(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=n[a]={exports:{}};t[a][0].call(h.exports,(function(e){return r(t[a][1][e]||e)}),h,h.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){const i=e("canvas-sketch"),r=e("canvas-sketch-util/random"),o=e("riso-colors"),a={dimensions:[1080,1080],animate:!0,canvas:document.getElementById("earth-crisis")};class s{constructor(e,t,n,i){this.x=e,this.y=t,this.distance=n,this.distanceCoord=i}}class p{constructor({x:e,y:t,center:n}){this.x=e,this.y=t,this.center=n,this.distance=Math.sqrt((e-n.x)*(e-n.x)+(t-n.y)*(t-n.y)),this.distanceCoord={x:e-n.x,y:t-n.y}}}let c,h=new p({x:9999,y:9999,center:{x:0,y:0}}),u=[];class f{constructor(e,t,n,i,r){this.radius=e,this.center={x:t,y:n},this.maxDistance=200,this.lineColor=i,this.fillColor=r}draw(e){e.save(),e.strokeStyle=this.lineColor,e.lineWidth=7,u.forEach((t=>{this.drawOutsideCircle(e,t)})),this.isCursorInside=h.distance<this.radius,this.isCursorInside?this.drawInsideCircle(e):this.drawOutsideCircle(e,h),e.restore()}drawInsideCircle(e){e.beginPath(),e.fillStyle=this.fillColor,e.arc(this.center.x,this.center.y,this.radius,0,2*Math.PI),e.fill(),e.stroke()}drawOutsideCircle(e,t){const n=this.radius*this.radius/t.distance,i=this.center.x+n*t.distanceCoord.x/t.distance,r=this.center.y+n*t.distanceCoord.y/t.distance,o=Math.sqrt(this.radius*this.radius-n*n),a={x:i-o*t.distanceCoord.y/t.distance,y:r+o*t.distanceCoord.x/t.distance},s={x:i+o*t.distanceCoord.y/t.distance,y:r-o*t.distanceCoord.x/t.distance};e.beginPath(),e.fillStyle=this.fillColor,e.moveTo(a.x,a.y);let p={x:t.x,y:t.y};t.distance>this.maxDistance+this.radius&&(p={x:this.center.x-(this.maxDistance+this.radius)*(this.center.x-t.x)/t.distance,y:this.center.y-(this.maxDistance+this.radius)*(this.center.y-t.y)/t.distance}),e.lineTo(p.x,p.y),e.lineTo(s.x,s.y),e.fill(),e.stroke(),e.beginPath();let c=Math.atan2(a.y-this.center.y,a.x-this.center.x),h=Math.atan2(s.y-this.center.y,s.x-this.center.x);e.arc(this.center.x,this.center.y,this.radius,c,h),e.fill(),e.stroke()}}i((({canvas:e,width:t,height:n})=>{c=e,e.addEventListener("mousedown",d);let i=r.pick(o).hex,a=r.pick(o).hex,s=r.pick(o).hex,u=r.pick(o).hex;const l=[];for(let e=9;e>=0;e--){l.push(new f(50+30*e,t/2,n/2,a,e%2==0?s:u))}return h=new p({x:t/2,y:n/2,center:{x:t/2,y:n/2}}),({context:e,width:t,height:n})=>{e.fillStyle=i,e.fillRect(0,0,t,n),l.forEach((t=>{t.draw(e)}))}}),a);const d=e=>{window.addEventListener("mousemove",l),window.addEventListener("mouseup",onMouseUp),l(e)},l=e=>{h=new p({x:e.offsetX/c.offsetWidth*c.width,y:e.offsetY/c.offsetHeight*c.height,center:{x:c.width/2,y:c.height/2}})};onMouseUp=()=>{window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",onMouseUp),u.push(new s(h.x,h.y,h.distance,h.distanceCoord))}},{"canvas-sketch":3,"canvas-sketch-util/random":2,"riso-colors":5}],2:[function(e,t,n){var i=e("seed-random"),r=e("simplex-noise"),o=e("defined");t.exports=function e(t){t=o(t,null);var n,a,s,p=Math.random,c=null,h=!1;return u(t),{value:f,createRandom:function(t){return e(t)},setSeed:u,getSeed:function(){return n},getRandomSeed:function(){return String(Math.floor(1e6*Math.random()))},valueNonZero:function(){var e=0;for(;0===e;)e=f();return e},permuteNoise:function(){s=d()},noise1D:function(e,t,n){if(!isFinite(e))throw new TypeError("x component for noise() must be finite");return t=o(t,1),(n=o(n,1))*s.noise2D(e*t,0)},noise2D:function(e,t,n,i){if(!isFinite(e))throw new TypeError("x component for noise() must be finite");if(!isFinite(t))throw new TypeError("y component for noise() must be finite");return n=o(n,1),(i=o(i,1))*s.noise2D(e*n,t*n)},noise3D:function(e,t,n,i,r){if(!isFinite(e))throw new TypeError("x component for noise() must be finite");if(!isFinite(t))throw new TypeError("y component for noise() must be finite");if(!isFinite(n))throw new TypeError("z component for noise() must be finite");return i=o(i,1),(r=o(r,1))*s.noise3D(e*i,t*i,n*i)},noise4D:function(e,t,n,i,r,a){if(!isFinite(e))throw new TypeError("x component for noise() must be finite");if(!isFinite(t))throw new TypeError("y component for noise() must be finite");if(!isFinite(n))throw new TypeError("z component for noise() must be finite");if(!isFinite(i))throw new TypeError("w component for noise() must be finite");return r=o(r,1),(a=o(a,1))*s.noise4D(e*r,t*r,n*r,i*r)},sign:function(){return l()?1:-1},boolean:l,chance:function(e){if("number"!=typeof(e=o(e,.5)))throw new TypeError("expected n to be a number");return f()<e},range:m,rangeFloor:y,pick:function(e){return 0===e.length?void 0:e[y(0,e.length)]},shuffle:function(e){if(!Array.isArray(e))throw new TypeError("Expected Array, got "+typeof e);var t,n,i=e.length,r=e.slice();for(;i;)t=Math.floor(f()*i--),n=r[i],r[i]=r[t],r[t]=n;return r},onCircle:g,insideCircle:function(e,t){e=o(e,1),g(1,t=t||[]);var n=e*Math.sqrt(f());return t[0]*=n,t[1]*=n,t},onSphere:function(e,t){e=o(e,1),t=t||[];var n=f()*Math.PI*2,i=2*f()-1,r=n,a=Math.acos(i);return t[0]=e*Math.sin(a)*Math.cos(r),t[1]=e*Math.sin(a)*Math.sin(r),t[2]=e*Math.cos(a),t},insideSphere:function(e,t){e=o(e,1),t=t||[];var n=f()*Math.PI*2,i=2*f()-1,r=f(),a=n,s=Math.acos(i),p=e*Math.cbrt(r);return t[0]=p*Math.sin(s)*Math.cos(a),t[1]=p*Math.sin(s)*Math.sin(a),t[2]=p*Math.cos(s),t},quaternion:function(e){e=e||[];var t=f(),n=f(),i=f(),r=Math.sqrt(1-t),o=Math.sqrt(t),a=2*Math.PI*n,s=2*Math.PI*i,p=Math.sin(a)*r,c=Math.cos(a)*r,h=Math.sin(s)*o,u=Math.cos(s)*o;return e[0]=p,e[1]=c,e[2]=h,e[3]=u,e},weighted:x,weightedSet:function(e){return 0===(e=e||[]).length?null:e[v(e)].value},weightedSetIndex:v,gaussian:function(e,t){if(e=o(e,0),t=o(t,1),h){h=!1;var n=c;return c=null,e+t*n}var i=0,r=0,a=0;do{a=(i=2*f()-1)*i+(r=2*f()-1)*r}while(a>=1||0===a);var s=Math.sqrt(-2*Math.log(a)/a);return c=r*s,h=!0,e+t*(i*s)}};function u(e,t){"number"==typeof e||"string"==typeof e?a=i(n=e,t):(n=void 0,a=p),s=d(),c=null,h=!1}function f(){return a()}function d(){return new r(a)}function l(){return f()>.5}function m(e,t){if(void 0===t&&(t=e,e=0),"number"!=typeof e||"number"!=typeof t)throw new TypeError("Expected all arguments to be numbers");return f()*(t-e)+e}function y(e,t){if(void 0===t&&(t=e,e=0),"number"!=typeof e||"number"!=typeof t)throw new TypeError("Expected all arguments to be numbers");return Math.floor(m(e,t))}function g(e,t){e=o(e,1),t=t||[];var n=2*f()*Math.PI;return t[0]=e*Math.cos(n),t[1]=e*Math.sin(n),t}function v(e){return 0===(e=e||[]).length?-1:x(e.map((function(e){return e.weight})))}function x(e){if(0===(e=e||[]).length)return-1;var t,n=0;for(t=0;t<e.length;t++)n+=e[t];if(n<=0)throw new Error("Weights must sum to > 0");var i=f()*n;for(t=0;t<e.length;t++){if(i<e[t])return t;i-=e[t]}return 0}}()},{defined:4,"seed-random":6,"simplex-noise":7}],3:[function(e,t,n){(function(e){(function(){!function(e,i){"object"==typeof n&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):e.canvasSketch=i()}(this,(function(){var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var r=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,r){for(var o,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),p=1;p<arguments.length;p++){for(var c in o=Object(arguments[p]))n.call(o,c)&&(s[c]=o[c]);if(t){a=t(o);for(var h=0;h<a.length;h++)i.call(o,a[h])&&(s[a[h]]=o[a[h]])}}return s},o="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function a(e,t){return e(t={exports:{}},t.exports),t.exports}var s=o.performance&&o.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date},p=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then};var c=function(e){return!(!e||"object"!=typeof e)&&("object"==typeof window&&"object"==typeof window.Node?e instanceof window.Node:"number"==typeof e.nodeType&&"string"==typeof e.nodeName)};function h(){return"undefined"!=typeof window&&window["canvas-sketch-cli"]}function u(){for(var e=arguments,t=0;t<arguments.length;t++)if(null!=e[t])return e[t]}function f(){return"undefined"!=typeof document}function d(e){return e&&"function"==typeof e.save&&"function"==typeof e.scale&&"function"==typeof e.restore}var l,m=a((function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n})),y=a((function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function i(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?i:r).supported=i,t.unsupported=r})),g=a((function(e){var t=Array.prototype.slice,n=e.exports=function(e,o,a){return a||(a={}),e===o||(e instanceof Date&&o instanceof Date?e.getTime()===o.getTime():!e||!o||"object"!=typeof e&&"object"!=typeof o?a.strict?e===o:e==o:function(e,o,a){var s,p;if(i(e)||i(o))return!1;if(e.prototype!==o.prototype)return!1;if(y(e))return!!y(o)&&(e=t.call(e),o=t.call(o),n(e,o,a));if(r(e)){if(!r(o))return!1;if(e.length!==o.length)return!1;for(s=0;s<e.length;s++)if(e[s]!==o[s])return!1;return!0}try{var c=m(e),h=m(o)}catch(e){return!1}if(c.length!=h.length)return!1;for(c.sort(),h.sort(),s=c.length-1;s>=0;s--)if(c[s]!=h[s])return!1;for(s=c.length-1;s>=0;s--)if(!n(e[p=c[s]],o[p],a))return!1;return typeof e==typeof o}(e,o,a))};function i(e){return null==e}function r(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}})),v=a((function(e,t){!function(){var t,n,i,r=(t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,n=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g,function(e,a,s,p){if(1!==arguments.length||"string"!==(null===(c=e)?"null":void 0===c?"undefined":"object"!=typeof c?typeof c:Array.isArray(c)?"array":{}.toString.call(c).slice(8,-1).toLowerCase())||/\d/.test(e)||(a=e,e=void 0),(e=e||new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var c,h=(a=String(r.masks[a]||a||r.masks.default)).slice(0,4);"UTC:"!==h&&"GMT:"!==h||(a=a.slice(4),s=!0,"GMT:"===h&&(p=!0));var u=s?"getUTC":"get",f=e[u+"Date"](),d=e[u+"Day"](),l=e[u+"Month"](),m=e[u+"FullYear"](),y=e[u+"Hours"](),g=e[u+"Minutes"](),v=e[u+"Seconds"](),x=e[u+"Milliseconds"](),w=s?0:e.getTimezoneOffset(),b=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var i=t.getTimezoneOffset()-n.getTimezoneOffset();return t.setHours(t.getHours()-i),1+Math.floor((t-n)/6048e5)}(e),T=function(e){var t=e.getDay();return 0===t&&(t=7),t}(e),S={d:f,dd:o(f),ddd:r.i18n.dayNames[d],dddd:r.i18n.dayNames[d+7],m:l+1,mm:o(l+1),mmm:r.i18n.monthNames[l],mmmm:r.i18n.monthNames[l+12],yy:String(m).slice(2),yyyy:m,h:y%12||12,hh:o(y%12||12),H:y,HH:o(y),M:g,MM:o(g),s:v,ss:o(v),l:o(x,3),L:o(Math.round(x/10)),t:y<12?r.i18n.timeNames[0]:r.i18n.timeNames[1],tt:y<12?r.i18n.timeNames[2]:r.i18n.timeNames[3],T:y<12?r.i18n.timeNames[4]:r.i18n.timeNames[5],TT:y<12?r.i18n.timeNames[6]:r.i18n.timeNames[7],Z:p?"GMT":s?"UTC":(String(e).match(n)||[""]).pop().replace(i,""),o:(w>0?"-":"+")+o(100*Math.floor(Math.abs(w)/60)+Math.abs(w)%60,4),S:["th","st","nd","rd"][f%10>3?0:(f%100-f%10!=10)*f%10],W:b,N:T};return a.replace(t,(function(e){return e in S?S[e]:e.slice(1,e.length-1)}))});function o(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}r.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},r.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},e.exports=r}()})),x="",w=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var n=e.length*t;if(l!==e||void 0===l)l=e,x="";else if(x.length>=n)return x.substr(0,n);for(;n>x.length&&t>1;)1&t&&(x+=e),t>>=1,e+=e;return x=(x+=e).substr(0,n)};var b,T=function(e,t,n){return e=e.toString(),void 0===t?e:(n=0===n?"0":n?n.toString():" ",w(n,t-e.length)+e)},S=function(){},M={extension:"",prefix:"",suffix:""},_=["image/png","image/jpeg","image/webp"];function k(e,t){return void 0===t&&(t={}),new Promise((function(n,i){t=r({},M,t);var o=E(Object.assign({},t,{extension:"",frame:void 0})),a=e?"streamStart":"streamEnd",s=h();return s&&s.output&&"function"==typeof s[a]?s[a](r({},t,{filename:o})).then((function(e){return n(e)})):n({filename:o,client:!1})}))}function z(e,t){return void 0===t&&(t={}),function(e){return new Promise((function(t){var n=e.indexOf(",");if(-1!==n){for(var i=e.slice(n+1),r=window.atob(i),o=e.slice(0,n),a=/data:([^;]+)/.exec(o),s=(a?a[1]:"")||void 0,p=new ArrayBuffer(r.length),c=new Uint8Array(p),h=0;h<r.length;h++)c[h]=r.charCodeAt(h);t(new window.Blob([p],{type:s}))}else t(new window.Blob)}))}(e).then((function(e){return U(e,t)}))}function U(e,t){return void 0===t&&(t={}),new Promise((function(n){var i=(t=r({},M,t)).filename,o=h();if(o&&"function"==typeof o.saveBlob&&o.output)return o.saveBlob(e,r({},t,{filename:i})).then((function(e){return n(e)}));b||((b=document.createElement("a")).style.visibility="hidden",b.target="_blank"),b.download=i,b.href=window.URL.createObjectURL(e),document.body.appendChild(b),b.onclick=function(){b.onclick=S,setTimeout((function(){window.URL.revokeObjectURL(e),b.parentElement&&b.parentElement.removeChild(b),b.removeAttribute("href"),n({filename:i,client:!1})}))},b.click()}))}function E(e){if(void 0===e&&(e={}),"function"==typeof(e=r({},e)).file)return e.file(e);if(e.file)return e.file;var t,n=null,i="";("string"==typeof e.extension&&(i=e.extension),"number"==typeof e.frame)&&(t="number"==typeof e.totalFrames?e.totalFrames:Math.max(1e4,e.frame),n=T(String(e.frame),String(t).length,"0"));var o=isFinite(e.totalLayers)&&isFinite(e.layer)&&e.totalLayers>1?""+e.layer:"";return null!=n?[o,n].filter(Boolean).join("-")+i:[e.prefix,e.name||e.timeStamp,o,e.hash,e.suffix].filter(Boolean).join("-")+i}var C={dimension:"dimensions",animated:"animate",animating:"animate",unit:"units",P5:"p5",pixellated:"pixelated",looping:"loop",pixelPerInch:"pixels"},F=["dimensions","units","pixelsPerInch","orientation","scaleToFit","scaleToView","bleed","pixelRatio","exportPixelRatio","maxPixelRatio","scaleContext","resizeCanvas","styleCanvas","canvas","context","attributes","parent","file","name","prefix","suffix","animate","playing","loop","duration","totalFrames","fps","playbackRate","timeScale","frame","time","flush","pixelated","hotkeys","p5","id","scaleToFitPadding","data","params","encoding","encodingQuality"],R=function(e){Object.keys(e).forEach((function(e){e in C?console.warn('[canvas-sketch] Could not recognize the setting "'+e+'", did you mean "'+C[e]+'"?'):F.includes(e)||console.warn('[canvas-sketch] Could not recognize the setting "'+e+'"')}))};var P=[["postcard",101.6,152.4],["poster-small",280,430],["poster",460,610],["poster-large",610,910],["business-card",50.8,88.9],["2r",64,89],["3r",89,127],["4r",102,152],["5r",127,178],["6r",152,203],["8r",203,254],["10r",254,305],["11r",279,356],["12r",305,381],["a0",841,1189],["a1",594,841],["a2",420,594],["a3",297,420],["a4",210,297],["a5",148,210],["a6",105,148],["a7",74,105],["a8",52,74],["a9",37,52],["a10",26,37],["2a0",1189,1682],["4a0",1682,2378],["b0",1e3,1414],["b1",707,1e3],["b1+",720,1020],["b2",500,707],["b2+",520,720],["b3",353,500],["b4",250,353],["b5",176,250],["b6",125,176],["b7",88,125],["b8",62,88],["b9",44,62],["b10",31,44],["b11",22,32],["b12",16,22],["c0",917,1297],["c1",648,917],["c2",458,648],["c3",324,458],["c4",229,324],["c5",162,229],["c6",114,162],["c7",81,114],["c8",57,81],["c9",40,57],["c10",28,40],["c11",22,32],["c12",16,22],["half-letter",5.5,8.5,"in"],["letter",8.5,11,"in"],["legal",8.5,14,"in"],["junior-legal",5,8,"in"],["ledger",11,17,"in"],["tabloid",11,17,"in"],["ansi-a",8.5,11,"in"],["ansi-b",11,17,"in"],["ansi-c",17,22,"in"],["ansi-d",22,34,"in"],["ansi-e",34,44,"in"],["arch-a",9,12,"in"],["arch-b",12,18,"in"],["arch-c",18,24,"in"],["arch-d",24,36,"in"],["arch-e",36,48,"in"],["arch-e1",30,42,"in"],["arch-e2",26,38,"in"],["arch-e3",27,39,"in"]].reduce((function(e,t){var n={units:t[3]||"mm",dimensions:[t[1],t[2]]};return e[t[0]]=n,e[t[0].replace(/-/g," ")]=n,e}),{}),j=["mm","cm","m","pc","pt","in","ft","px"],O={m:{system:"metric",factor:1},cm:{system:"metric",factor:.01},mm:{system:"metric",factor:.001},pt:{system:"imperial",factor:1/72},pc:{system:"imperial",factor:1/6},in:{system:"imperial",factor:1},ft:{system:"imperial",factor:12}};const D={metric:{unit:"m",ratio:1/.0254},imperial:{unit:"in",ratio:.0254}};var A=function(e,t,n,i){if("number"!=typeof e||!isFinite(e))throw new Error("Value must be a finite number");if(!t||!n)throw new Error("Must specify from and to units");var r=function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}((i=i||{}).pixelsPerInch,96),o=i.precision,a=!1!==i.roundPixel;if(t=t.toLowerCase(),n=n.toLowerCase(),-1===j.indexOf(t))throw new Error('Invalid from unit "'+t+'", must be one of: '+j.join(", "));if(-1===j.indexOf(n))throw new Error('Invalid from unit "'+n+'", must be one of: '+j.join(", "));if(t===n)return e;var s=1,p=1,c=!1;"px"===t&&(p=1/r,t="in"),"px"===n&&(c=!0,s=r,n="in");var h=O[t],u=O[n],f=e*h.factor*p;h.system!==u.system&&(f*=D[h.system].ratio);var d=f/u.factor*s;return c&&a?d=Math.round(d):"number"==typeof o&&isFinite(o)&&(d=function(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)}(d,o)),d};function N(e,t,n,i){return void 0===t&&(t="px"),void 0===n&&(n="px"),void 0===i&&(i=72),A(e,t,n,{pixelsPerInch:i,precision:4,roundPixel:!0})}function L(e,t){var n,i,r,o,a,s,p=f(),c=t.dimensions,h=function(e){return!(!e.dimensions||"string"!=typeof e.dimensions&&!(Array.isArray(e.dimensions)&&e.dimensions.length>=2))}(t),d=e.exporting,l=!!h&&!1!==t.scaleToFit,m=!(!d&&h)||t.scaleToView;p||(l=m=!1);var y,g,v=t.units,x="number"==typeof t.pixelsPerInch&&isFinite(t.pixelsPerInch)?t.pixelsPerInch:72,w=u(t.bleed,0),b=p?window.devicePixelRatio:1,T=m?b:1;"number"==typeof t.pixelRatio&&isFinite(t.pixelRatio)?g=u(t.exportPixelRatio,y=t.pixelRatio):h?(y=T,g=u(t.exportPixelRatio,1)):g=u(t.exportPixelRatio,y=b),"number"==typeof t.maxPixelRatio&&isFinite(t.maxPixelRatio)&&(y=Math.min(t.maxPixelRatio,y)),d&&(y=g);var S,M,_=function(e,t){if(!f())return[300,150];var n=t.parent||window;if(n===window||n===document||n===document.body)return[window.innerWidth,window.innerHeight];var i=n.getBoundingClientRect();return[i.width,i.height]}(0,t),k=_[0],z=_[1];if(h){var U=function(e,t,n){if(void 0===t&&(t="px"),void 0===n&&(n=72),"string"==typeof e){var i=e.toLowerCase();if(!(i in P))throw new Error('The dimension preset "'+e+'" is not supported or could not be found; try using a4, a3, postcard, letter, etc.');var r=P[i];return r.dimensions.map((function(e){return N(e,r.units,t,n)}))}return e}(c,v,x),E=Math.max(U[0],U[1]),C=Math.min(U[0],U[1]);if(t.orientation){var F="landscape"===t.orientation;n=F?E:C,i=F?C:E}else n=U[0],i=U[1];S=n,M=i,n+=2*w,i+=2*w}else S=n=k,M=i=z;var R=n,j=i;if(h&&v&&(R=N(n,v,"px",x),j=N(i,v,"px",x)),r=Math.round(R),o=Math.round(j),l&&!d&&h){var O=n/i,D=k/z,A=u(t.scaleToFitPadding,40),L=Math.round(k-2*A),H=Math.round(z-2*A);(r>L||o>H)&&(D>O?(o=H,r=Math.round(o*O)):(r=L,o=Math.round(r/O)))}return{bleed:w,pixelRatio:y,width:n,height:i,dimensions:[n,i],units:v||"px",scaleX:(a=m?Math.round(y*r):Math.round(y*R))/n,scaleY:(s=m?Math.round(y*o):Math.round(y*j))/i,pixelsPerInch:x,viewportWidth:m?Math.round(r):Math.round(R),viewportHeight:m?Math.round(o):Math.round(j),canvasWidth:a,canvasHeight:s,trimWidth:S,trimHeight:M,styleWidth:r,styleHeight:o}}A.units=j;var H=function(e,t){if("string"!=typeof e)throw new TypeError("must specify type string");if(t=t||{},"undefined"==typeof document&&!t.canvas)return null;var n=t.canvas||document.createElement("canvas");"number"==typeof t.width&&(n.width=t.width);"number"==typeof t.height&&(n.height=t.height);var i,r=t;try{var o=[e];0===e.indexOf("webgl")&&o.push("experimental-"+e);for(var a=0;a<o.length;a++)if(i=n.getContext(o[a],r))return i}catch(e){i=null}return i||null};function I(e){var t,n;void 0===e&&(e={});var i=!1;if(!1!==e.canvas){if(!(t=e.context)||"string"==typeof t){var o=e.canvas;o||(o=function(){if(!f())throw new Error("It appears you are runing from Node.js or a non-browser environment. Try passing in an existing { canvas } interface instead.");return document.createElement("canvas")}(),i=!0);var a=t||"2d";if("function"!=typeof o.getContext)throw new Error("The specified { canvas } element does not have a getContext() function, maybe it is not a <canvas> tag?");if(!(t=H(a,r({},e.attributes,{canvas:o}))))throw new Error("Failed at canvas.getContext('"+a+"') - the browser may not support this context, or a different context may already be in use with this canvas.")}if(n=t.canvas,e.canvas&&n!==e.canvas)throw new Error("The { canvas } and { context } settings must point to the same underlying canvas element");e.pixelated&&(t.imageSmoothingEnabled=!1,t.mozImageSmoothingEnabled=!1,t.oImageSmoothingEnabled=!1,t.webkitImageSmoothingEnabled=!1,t.msImageSmoothingEnabled=!1,n.style["image-rendering"]="pixelated")}return{canvas:n,context:t,ownsCanvas:i}}var B=function(){var e=this;this._settings={},this._props={},this._sketch=void 0,this._raf=null,this._recordTimeout=null,this._lastRedrawResult=void 0,this._isP5Resizing=!1,this._keyboardShortcuts=function(e){void 0===e&&(e={});var t=function(t){if(e.enabled()){var n=h();83!==t.keyCode||t.altKey||!t.metaKey&&!t.ctrlKey?32===t.keyCode?e.togglePlay(t):n&&!t.altKey&&75===t.keyCode&&(t.metaKey||t.ctrlKey)&&(t.preventDefault(),e.commit(t)):(t.preventDefault(),e.save(t))}};return{attach:function(){window.addEventListener("keydown",t)},detach:function(){window.removeEventListener("keydown",t)}}}({enabled:function(){return!1!==e.settings.hotkeys},save:function(t){t.shiftKey?e.props.recording?(e.endRecord(),e.run()):e.record():e.props.recording||e.exportFrame()},togglePlay:function(){e.props.playing?e.pause():e.play()},commit:function(t){e.exportFrame({commit:!0})}}),this._animateHandler=function(){return e.animate()},this._resizeHandler=function(){e.resize()&&e.render()}},q={sketch:{configurable:!0},settings:{configurable:!0},props:{configurable:!0}};q.sketch.get=function(){return this._sketch},q.settings.get=function(){return this._settings},q.props.get=function(){return this._props},B.prototype._computePlayhead=function(e,t){return"number"==typeof t&&isFinite(t)?e/t:0},B.prototype._computeFrame=function(e,t,n,i){return isFinite(n)&&n>1?Math.floor(e*(n-1)):Math.floor(i*t)},B.prototype._computeCurrentFrame=function(){return this._computeFrame(this.props.playhead,this.props.time,this.props.totalFrames,this.props.fps)},B.prototype._getSizeProps=function(){var e=this.props;return{width:e.width,height:e.height,pixelRatio:e.pixelRatio,canvasWidth:e.canvasWidth,canvasHeight:e.canvasHeight,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight}},B.prototype.run=function(){if(!this.sketch)throw new Error("should wait until sketch is loaded before trying to play()");return!1!==this.settings.playing&&this.play(),"function"==typeof this.sketch.dispose&&console.warn("In canvas-sketch@0.0.23 the dispose() event has been renamed to unload()"),this.props.started||(this._signalBegin(),this.props.started=!0),this.tick(),this.render(),this},B.prototype._cancelTimeouts=function(){null!=this._raf&&"undefined"!=typeof window&&"function"==typeof window.cancelAnimationFrame&&(window.cancelAnimationFrame(this._raf),this._raf=null),null!=this._recordTimeout&&(clearTimeout(this._recordTimeout),this._recordTimeout=null)},B.prototype.play=function(){var e=this.settings.animate;"animation"in this.settings&&(e=!0,console.warn("[canvas-sketch] { animation } has been renamed to { animate }")),e&&(f()?this.props.playing||(this.props.started||(this._signalBegin(),this.props.started=!0),this.props.playing=!0,this._cancelTimeouts(),this._lastTime=s(),this._raf=window.requestAnimationFrame(this._animateHandler)):console.error("[canvas-sketch] WARN: Using { animate } in Node.js is not yet supported"))},B.prototype.pause=function(){this.props.recording&&this.endRecord(),this.props.playing=!1,this._cancelTimeouts()},B.prototype.togglePlay=function(){this.props.playing?this.pause():this.play()},B.prototype.stop=function(){this.pause(),this.props.frame=0,this.props.playhead=0,this.props.time=0,this.props.deltaTime=0,this.props.started=!1,this.render()},B.prototype.record=function(){var e=this;if(!this.props.recording)if(f()){this.stop(),this.props.playing=!0,this.props.recording=!0;var t=this._createExportOptions({sequence:!0}),n=1/this.props.fps;this._cancelTimeouts();var i,r=function(){return e.props.recording?(e.props.deltaTime=n,e.tick(),e.exportFrame(t).then((function(){e.props.recording&&(e.props.deltaTime=0,e.props.frame++,e.props.frame<e.props.totalFrames?(e.props.time+=n,e.props.playhead=e._computePlayhead(e.props.time,e.props.duration),e._recordTimeout=setTimeout(r,0)):(console.log("Finished recording"),e._signalEnd(),e.endRecord(),e.stop(),e.run()))}))):Promise.resolve()};this.props.started||(this._signalBegin(),this.props.started=!0),this.sketch&&"function"==typeof this.sketch.beginRecord&&this._wrapContextScale((function(t){return e.sketch.beginRecord(t)})),(i=t,void 0===i&&(i={}),k(!0,i)).catch((function(e){console.error(e)})).then((function(t){e._raf=window.requestAnimationFrame(r)}))}else console.error("[canvas-sketch] WARN: Recording from Node.js is not yet supported")},B.prototype._signalBegin=function(){var e=this;this.sketch&&"function"==typeof this.sketch.begin&&this._wrapContextScale((function(t){return e.sketch.begin(t)}))},B.prototype._signalEnd=function(){var e=this;this.sketch&&"function"==typeof this.sketch.end&&this._wrapContextScale((function(t){return e.sketch.end(t)}))},B.prototype.endRecord=function(){var e,t=this,n=this.props.recording;return this._cancelTimeouts(),this.props.recording=!1,this.props.deltaTime=0,this.props.playing=!1,(void 0===e&&(e={}),k(!1,e)).catch((function(e){console.error(e)})).then((function(){n&&t.sketch&&"function"==typeof t.sketch.endRecord&&t._wrapContextScale((function(e){return t.sketch.endRecord(e)}))}))},B.prototype._createExportOptions=function(e){return void 0===e&&(e={}),{sequence:e.sequence,save:e.save,fps:this.props.fps,frame:e.sequence?this.props.frame:void 0,file:this.settings.file,name:this.settings.name,prefix:this.settings.prefix,suffix:this.settings.suffix,encoding:this.settings.encoding,encodingQuality:this.settings.encodingQuality,timeStamp:e.timeStamp||v(new Date,"yyyy.mm.dd-HH.MM.ss"),totalFrames:isFinite(this.props.totalFrames)?Math.max(0,this.props.totalFrames):1e3}},B.prototype.exportFrame=function(e){var t=this;if(void 0===e&&(e={}),!this.sketch)return Promise.all([]);"function"==typeof this.sketch.preExport&&this.sketch.preExport();var n=this._createExportOptions(e),i=h(),o=Promise.resolve();if(i&&e.commit&&"function"==typeof i.commit){var a=r({},n),s=i.commit(a);o=p(s)?s:Promise.resolve(s)}return o.then((function(e){return t._doExportFrame(r({},n,{hash:e||""}))})).then((function(e){return 1===e.length?e[0]:e}))},B.prototype._doExportFrame=function(e){var t=this;void 0===e&&(e={}),this._props.exporting=!0,this.resize();var n=this.render();return void 0===n&&(n=[this.props.canvas]),n=(n=[].concat(n).filter(Boolean)).map((function(t){var n,i="object"==typeof t&&t&&("data"in t||"dataURL"in t),o=i?t.data:t,a=i?r({},t,{data:o}):{data:o};if(c(n=o)&&/canvas/i.test(n.nodeName)&&"function"==typeof n.getContext){var s=function(e,t){void 0===t&&(t={});var n=t.encoding||"image/png";if(!_.includes(n))throw new Error("Invalid canvas encoding "+n);var i=(n.split("/")[1]||"").replace(/jpeg/i,"jpg");return i&&(i=("."+i).toLowerCase()),{extension:i,type:n,dataURL:e.toDataURL(n,t.encodingQuality)}}(o,{encoding:a.encoding||e.encoding,encodingQuality:u(a.encodingQuality,e.encodingQuality,.95)});return Object.assign(a,{dataURL:s.dataURL,extension:s.extension,type:s.type})}return a})),this._props.exporting=!1,this.resize(),this.render(),Promise.all(n.map((function(t,n,i){var o=r({extension:"",prefix:"",suffix:""},e,t,{layer:n,totalLayers:i.length}),a=!1!==e.save&&t.save;for(var s in o.save=!1!==a,o.filename=E(o),delete o.encoding,delete o.encodingQuality,o)void 0===o[s]&&delete o[s];var p=Promise.resolve({});if(o.save){var c=o.data;if(o.dataURL)p=z(o.dataURL,o);else p=function(e,t){void 0===t&&(t={});var n=Array.isArray(e)?e:[e];return U(new window.Blob(n,{type:t.type||""}),t)}(c,o)}return p.then((function(e){return Object.assign({},o,e)}))}))).then((function(n){var i=n.filter((function(e){return e.save}));if(i.length>0){var r,o=i.find((function(e){return e.outputName})),a=i.some((function(e){return e.client})),s=i.some((function(e){return e.stream}));r=i.length>1?i.length:o?o.outputName+"/"+i[0].filename:""+i[0].filename;var p="";if(e.sequence)p=isFinite(t.props.totalFrames)?" (frame "+(e.frame+1)+" / "+t.props.totalFrames+")":" (frame "+e.frame+")";else i.length>1&&(p=" files");console.log("%c["+(a?"canvas-sketch-cli":"canvas-sketch")+"]%c "+(s?"Streaming into":"Exported")+" %c"+r+"%c"+p,"color: #8e8e8e;","color: initial;","font-weight: bold;","font-weight: initial;")}return"function"==typeof t.sketch.postExport&&t.sketch.postExport(),n}))},B.prototype._wrapContextScale=function(e){this._preRender(),e(this.props),this._postRender()},B.prototype._preRender=function(){var e=this.props;d(e.context)&&!e.p5?(e.context.save(),!1!==this.settings.scaleContext&&e.context.scale(e.scaleX,e.scaleY)):e.p5&&e.p5.scale(e.scaleX/e.pixelRatio,e.scaleY/e.pixelRatio)},B.prototype._postRender=function(){var e=this.props;d(e.context)&&!e.p5&&e.context.restore(),e.gl&&!1!==this.settings.flush&&!e.p5&&e.gl.flush()},B.prototype.tick=function(){this.sketch&&"function"==typeof this.sketch.tick&&(this._preRender(),this.sketch.tick(this.props),this._postRender())},B.prototype.render=function(){return this.props.p5?(this._lastRedrawResult=void 0,this.props.p5.redraw(),this._lastRedrawResult):this.submitDrawCall()},B.prototype.submitDrawCall=function(){if(this.sketch){var e,t=this.props;return this._preRender(),"function"==typeof this.sketch?e=this.sketch(t):"function"==typeof this.sketch.render&&(e=this.sketch.render(t)),this._postRender(),e}},B.prototype.update=function(e){var t=this;void 0===e&&(e={});var n=["animate"];Object.keys(e).forEach((function(e){if(n.indexOf(e)>=0)throw new Error("Sorry, the { "+e+" } option is not yet supported with update().")}));var i=this._settings.canvas,r=this._settings.context;for(var o in e){var a=e[o];void 0!==a&&(t._settings[o]=a)}var s=Object.assign({},this._settings,e);if("time"in e&&"frame"in e)throw new Error("You should specify { time } or { frame } but not both");if("time"in e?delete s.frame:"frame"in e&&delete s.time,"duration"in e&&"totalFrames"in e)throw new Error("You should specify { duration } or { totalFrames } but not both");"duration"in e?delete s.totalFrames:"totalFrames"in e&&delete s.duration,"data"in e&&(this._props.data=e.data);var p=this.getTimeProps(s);if(Object.assign(this._props,p),i!==this._settings.canvas||r!==this._settings.context){var c=I(this._settings),h=c.context;this.props.canvas=c.canvas,this.props.context=h,this._setupGLKey(),this._appendCanvasIfNeeded()}return e.p5&&"function"!=typeof e.p5&&(this.props.p5=e.p5,this.props.p5.draw=function(){t._isP5Resizing||(t._lastRedrawResult=t.submitDrawCall())}),"playing"in e&&(e.playing?this.play():this.pause()),R(this._settings),this.resize(),this.render(),this.props},B.prototype.resize=function(){var e=this._getSizeProps(),t=this.settings,n=this.props,i=L(n,t);Object.assign(this._props,i);var r=this.props,o=r.pixelRatio,a=r.canvasWidth,s=r.canvasHeight,p=r.styleWidth,c=r.styleHeight,h=this.props.canvas;h&&!1!==t.resizeCanvas&&(n.p5?h.width===a&&h.height===s||(this._isP5Resizing=!0,n.p5.pixelDensity(o),n.p5.resizeCanvas(a/o,s/o,!1),this._isP5Resizing=!1):(h.width!==a&&(h.width=a),h.height!==s&&(h.height=s)),f()&&!1!==t.styleCanvas&&(h.style.width=p+"px",h.style.height=c+"px"));var u=this._getSizeProps(),d=!g(e,u);return d&&this._sizeChanged(),d},B.prototype._sizeChanged=function(){this.sketch&&"function"==typeof this.sketch.resize&&this.sketch.resize(this.props)},B.prototype.animate=function(){if(this.props.playing)if(f()){this._raf=window.requestAnimationFrame(this._animateHandler);var e=s(),t=1e3/this.props.fps,n=e-this._lastTime,i=this.props.duration,r="number"==typeof i&&isFinite(i),o=!0,a=this.settings.playbackRate;"fixed"===a?n=t:"throttle"===a?n>t?this._lastTime=e-=n%t:o=!1:this._lastTime=e;var p=n/1e3,c=this.props.time+p*this.props.timeScale;c<0&&r&&(c=i+c);var h=!1,u=!1;if(r&&c>=i&&(!1!==this.settings.loop?(o=!0,c%=i,u=!0):(o=!1,c=i,h=!0),this._signalEnd()),o){this.props.deltaTime=p,this.props.time=c,this.props.playhead=this._computePlayhead(c,i);var d=this.props.frame;this.props.frame=this._computeCurrentFrame(),u&&this._signalBegin(),d!==this.props.frame&&this.tick(),this.render(),this.props.deltaTime=0}h&&this.pause()}else console.error("[canvas-sketch] WARN: Animation in Node.js is not yet supported")},B.prototype.dispatch=function(e){if("function"!=typeof e)throw new Error("must pass function into dispatch()");e(this.props),this.render()},B.prototype.mount=function(){this._appendCanvasIfNeeded()},B.prototype.unmount=function(){f()&&(window.removeEventListener("resize",this._resizeHandler),this._keyboardShortcuts.detach()),this.props.canvas.parentElement&&this.props.canvas.parentElement.removeChild(this.props.canvas)},B.prototype._appendCanvasIfNeeded=function(){f()&&(!1!==this.settings.parent&&this.props.canvas&&!this.props.canvas.parentElement&&(this.settings.parent||document.body).appendChild(this.props.canvas))},B.prototype._setupGLKey=function(){var e;this.props.context&&((e=this.props.context)&&"function"==typeof e.clear&&"function"==typeof e.clearColor&&"function"==typeof e.bufferData?this._props.gl=this.props.context:delete this._props.gl)},B.prototype.getTimeProps=function(e){void 0===e&&(e={});var t=e.duration,n=e.totalFrames,i=u(e.timeScale,1),r=u(e.fps,24),o="number"==typeof t&&isFinite(t),a="number"==typeof n&&isFinite(n),s=o?Math.floor(r*t):void 0,p=a?n/r:void 0;if(o&&a&&s!==n)throw new Error("You should specify either duration or totalFrames, but not both. Or, they must match exactly.");void 0===e.dimensions&&void 0!==e.units&&console.warn("You've specified a { units } setting but no { dimension }, so the units will be ignored."),n=u(n,s,Infinity),t=u(t,p,Infinity);var c=e.time,h=e.frame,f="number"==typeof c&&isFinite(c),d="number"==typeof h&&isFinite(h),l=0,m=0,y=0;if(f&&d)throw new Error("You should specify either start frame or time, but not both.");return f?(y=this._computePlayhead(l=c,t),m=this._computeFrame(y,l,n,r)):d&&(y=this._computePlayhead(l=(m=h)/r,t)),{playhead:y,time:l,frame:m,duration:t,totalFrames:n,fps:r,timeScale:i}},B.prototype.setup=function(e){var t=this;if(void 0===e&&(e={}),this.sketch)throw new Error("Multiple setup() calls not yet supported.");this._settings=Object.assign({},e,this._settings),R(this._settings);var n=I(this._settings),i=n.context,r=n.canvas,o=this.getTimeProps(this._settings);this._props=Object.assign({},o,{canvas:r,context:i,deltaTime:0,started:!1,exporting:!1,playing:!1,recording:!1,settings:this.settings,data:this.settings.data,render:function(){return t.render()},togglePlay:function(){return t.togglePlay()},dispatch:function(e){return t.dispatch(e)},tick:function(){return t.tick()},resize:function(){return t.resize()},update:function(e){return t.update(e)},exportFrame:function(e){return t.exportFrame(e)},record:function(){return t.record()},play:function(){return t.play()},pause:function(){return t.pause()},stop:function(){return t.stop()}}),this._setupGLKey(),this.resize()},B.prototype.loadAndRun=function(e,t){var n=this;return this.load(e,t).then((function(){return n.run(),n}))},B.prototype.unload=function(){var e=this;this.pause(),this.sketch&&("function"==typeof this.sketch.unload&&this._wrapContextScale((function(t){return e.sketch.unload(t)})),this._sketch=null)},B.prototype.destroy=function(){this.unload(),this.unmount()},B.prototype.load=function(e,t){var n=this;if("function"!=typeof e)throw new Error("The function must take in a function as the first parameter. Example:\n  canvasSketcher(() => { ... }, settings)");this.sketch&&this.unload(),void 0!==t&&this.update(t),this._preRender();var i=Promise.resolve();if(this.settings.p5){if(!f())throw new Error("[canvas-sketch] ERROR: Using p5.js in Node.js is not supported");i=new Promise((function(e){var t,i=n.settings.p5;i.p5&&(t=i.preload,i=i.p5);var r=function(i){t&&(i.preload=function(){return t(i)}),i.setup=function(){var t=n.props,r="webgl"===n.settings.context,o=r?i.WEBGL:i.P2D;i.noLoop(),i.pixelDensity(t.pixelRatio),i.createCanvas(t.viewportWidth,t.viewportHeight,o),r&&n.settings.attributes&&i.setAttributes(n.settings.attributes),n.update({p5:i,canvas:i.canvas,context:i._renderer.drawingContext}),e()}};if("function"==typeof i)new i(r);else{if("function"!=typeof window.createCanvas)throw new Error("{ p5 } setting is passed but can't find p5.js in global (window) scope. Maybe you did not create it globally?\nnew p5(); // <-- attaches to global scope");r(window)}}))}return i.then((function(){var t=e(n.props);return p(t)||(t=Promise.resolve(t)),t})).then((function(e){return e||(e={}),n._sketch=e,f()&&(n._keyboardShortcuts.attach(),window.addEventListener("resize",n._resizeHandler)),n._postRender(),n._sizeChanged(),n})).catch((function(e){throw console.warn("Could not start sketch, the async loading function rejected with an error:\n    Error: "+e.message),e}))},Object.defineProperties(B.prototype,q);var W="hot-id-cache",G=[];function Y(e,t){if(void 0===t&&(t={}),t.p5){if(t.canvas||t.context&&"string"!=typeof t.context)throw new Error('In { p5 } mode, you can\'t pass your own canvas or context, unless the context is a "webgl" or "2d" string');t=Object.assign({},t,{canvas:!1,context:"string"==typeof t.context&&t.context})}var n,i,r=(n=h())&&n.hot;r&&(i=u(t.id,"$__DEFAULT_CANVAS_SKETCH_ID__$"));var o=r&&"string"==typeof i;o&&G.includes(i)&&(console.warn("Warning: You have multiple calls to canvasSketch() in --hot mode. You must pass unique { id } strings in settings to enable hot reload across multiple sketches. ",i),o=!1);var a=Promise.resolve();if(o){G.push(i);var s=function(e){var t=h();if(t)return t[W]=t[W]||{},t[W][e]}(i);if(s){var p=function(){var e,n=(e=s.manager,t.animate?{time:e.props.time}:void 0);return s.manager.destroy(),n};a=s.load.then(p).catch(p)}}return a.then((function(n){var r,a=new B;return e?(t=Object.assign({},t,n),a.setup(t),a.mount(),r=a.loadAndRun(e)):r=Promise.resolve(a),o&&function(e,t){var n=h();n&&(n[W]=n[W]||{},n[W][e]=t)}(i,{load:r,manager:a}),r}))}return Y.canvasSketch=Y,Y.PaperSizes=P,Y}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){"use strict";t.exports=function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}},{}],5:[function(e,t,n){t.exports=[{name:"Black",hex:"#000000",pantone:"BLACK U"},{name:"Burgundy",hex:"#914e72",pantone:"235 U",zType:"S-4225"},{name:"Blue",hex:"#0078bf",pantone:"3005 U",zType:"S-4257"},{name:"Green",hex:"#00a95c",pantone:"354 U",zType:"S-4259"},{name:"Medium Blue",hex:"#3255a4",pantone:"286 U",zType:"S-4261"},{name:"Bright Red",hex:"#f15060",pantone:"185 U",zType:"S-4263"},{name:"RisoFederal Blue",hex:"#3d5588",pantone:"288 U",zType:"S-4265"},{name:"Purple",hex:"#765ba7",pantone:"2685 U",zType:"S-4267"},{name:"Teal",hex:"#00838a",pantone:"321 U",zType:"S-4269"},{name:"Flat Gold",hex:"#bb8b41",pantone:"1245 U",zType:"S-4271"},{name:"Hunter Green",hex:"#407060",pantone:"342 U",zType:"S-4273"},{name:"Red",hex:"#ff665e",pantone:"WARM RED U",zType:"S-4275"},{name:"Brown",hex:"#925f52",pantone:"7526 U",zType:"S-4277"},{name:"Yellow",hex:"#ffe800",pantone:"YELLOW U",zType:"S-4279"},{name:"Marine Red",hex:"#d2515e",pantone:"186 U",zType:"S-4281"},{name:"Orange",hex:"#ff6c2f",pantone:"ORANGE 021 U",zType:"S-4283"},{name:"Fluorescent Pink",hex:"#ff48b0",pantone:"806 U",zType:"S-4287"},{name:"Light Gray",hex:"#88898a",pantone:"424 U",zType:"S-4291"},{name:"Metallic Gold",hex:"#ac936e",pantone:"872 U",zType:" S-2772"},{name:"Crimson",hex:"#e45d50",pantone:"485 U",zType:"S-4285"},{name:"Fluorescent Orange",hex:"#ff7477",pantone:"805 U",zType:"S-4289"},{name:"Cornflower",hex:"#62a8e5",pantone:"292 U",zType:"S-4617"},{name:"Sky Blue",hex:"#4982cf",pantone:"285U",zType:"S-4618"},{name:"Sea Blue",hex:"#0074a2",pantone:"307 U",zType:"S-4619"},{name:"Lake",hex:"#235ba8",pantone:"293 U",zType:"S-4620"},{name:"Indigo",hex:"#484d7a",pantone:"2758 U",zType:"S-4621"},{name:"Midnight",hex:"#435060",pantone:"296 U",zType:"S-4622"},{name:"Mist",hex:"#d5e4c0",pantone:"7485 U",zType:"S-4623"},{name:"Granite",hex:"#a5aaa8",pantone:"7538 U",zType:"S-4624"},{name:"Charcoal",hex:"#70747c",pantone:"7540 U",zType:"S-4625"},{name:"Smoky Teal",hex:"#5f8289",pantone:"5483 U",zType:"S-4626"},{name:"Steel",hex:"#375e77",pantone:"302 U",zType:"S-4627"},{name:"Slate",hex:"#5e695e",pantone:"5605 U",zType:"S-4628"},{name:"Turquoise",hex:"#00aa93",pantone:"3275 U",zType:"S-4629"},{name:"Emerald",hex:"#19975d",pantone:"355 U",zType:"S-4630"},{name:"Grass",hex:"#397e58",pantone:"356 U",zType:"S-4631"},{name:"Forest",hex:"#516e5a",pantone:"357 U",zType:"S-4632"},{name:"Spruce",hex:"#4a635d",pantone:"567 U",zType:"S-4633"},{name:"Moss",hex:"#68724d",pantone:"371 U",zType:"S-4634"},{name:"Sea Foam",hex:"#62c2b1",pantone:"570 U",zType:"S-4635"},{name:"Kelly Green",hex:"#67b346",pantone:" 368 U",zType:"S-4636"},{name:"Light Teal",hex:"#009da5",pantone:"320 U",zType:"S-4637"},{name:"Ivy",hex:"#169b62",pantone:"347 U",zType:"S-4638"},{name:"Pine",hex:"#237e74",pantone:"3295 U",zType:"S-4639"},{name:"Lagoon",hex:"#2f6165",pantone:"323 U",zType:"S-4640"},{name:"Violet",hex:"#9d7ad2",pantone:"265 U",zType:"S-4641"},{name:"Orchid",hex:"#aa60bf",pantone:"2592 U",zType:"S-4642"},{name:"Plum",hex:"#845991",pantone:"2603 U",zType:"S-4644"},{name:"Raisin",hex:"#775d7a",pantone:"519 U",zType:"S-4645"},{name:"Grape",hex:"#6c5d80",pantone:"2695 U",zType:"S-4646"},{name:"Scarlet",hex:"#f65058",pantone:"RED 032 U",zType:"S-4647"},{name:"Tomato",hex:"#d2515e",pantone:"186 U",zType:"S-4648"},{name:"Cranberry",hex:"#d1517a",pantone:"214 U",zType:"S-4649"},{name:"Maroon",hex:"#9e4c6e",pantone:"221 U",zType:"S-4650"},{name:"Raspberry Red",hex:"#d1517a",pantone:"214U",zType:"S-4651"},{name:"Brick",hex:"#a75154",pantone:"1807 U",zType:"S-4652"},{name:"Light Lime",hex:"#e3ed55",pantone:"387 U",zType:"S-4653"},{name:"Sunflower",hex:"#ffb511",pantone:"116 U",zType:"S-4654"},{name:"Melon",hex:"#ffae3b",pantone:"1235 U",zType:"S-4655"},{name:"Apricot",hex:"#f6a04d",pantone:"143 U",zType:"S-4656"},{name:"Paprika",hex:"#ee7f4b",pantone:"158 U",zType:"S-4657"},{name:"Pumpkin",hex:"#ff6f4c",pantone:"1655 U",zType:"S-4658"},{name:"Bright Olive Green",hex:"#b49f29",pantone:"103 U",zType:"S-4659"},{name:"Bright Gold",hex:"#ba8032",pantone:"131 U",zType:"S-4660"},{name:"Copper",hex:"#bd6439",pantone:"1525 U",zType:"S-4661"},{name:"Mahogany",hex:"#8e595a",pantone:"491 U",zType:"S-4662"},{name:"Bisque",hex:"#f2cdcf",pantone:"503 U",zType:"S-4663"},{name:"Bubble Gum",hex:"#f984ca",pantone:"231 U",zType:"S-4664"},{name:"Light Mauve",hex:"#e6b5c9",pantone:"7430 U",zType:"S-4665"},{name:"Dark Mauve",hex:"#bd8ca6",pantone:"687 U",zType:"S-4666"},{name:"Wine",hex:"#914e72",pantone:"235 U",zType:"S-4674"},{name:"Gray",hex:"#928d88",pantone:"403 U",zType:"S-4693"},{name:"White",hex:"#ffffff",zType:"S-4722 "},{name:"Aqua",hex:"#5ec8e5",pantone:"637 U",zType:"S-4917"},{name:"Mint",hex:"#82d8d5",pantone:"324 U",zType:"S-6316"},{name:"Fluorescent Yellow",hex:"#ffe900",pantone:"803 U",zType:"S-7761"},{name:"Fluorescent Red",hex:"#ff4c65",pantone:"812 U",zType:"S-7762"},{name:"Fluorescent Green",hex:"#44d62c",pantone:"802 U",zType:"S-7763"}]},{}],6:[function(e,t,n){(function(e){(function(){"use strict";var n=256,i=[],r=void 0===e?window:e,o=Math.pow(n,6),a=Math.pow(2,52),s=2*a,p=255,c=Math.random;function h(e){var t,i=e.length,r=this,o=0,a=r.i=r.j=0,s=r.S=[];for(i||(e=[i++]);o<n;)s[o]=o++;for(o=0;o<n;o++)s[o]=s[a=p&a+e[o%i]+(t=s[o])],s[a]=t;(r.g=function(e){for(var t,i=0,o=r.i,a=r.j,s=r.S;e--;)t=s[o=p&o+1],i=i*n+s[p&(s[o]=s[a=p&a+t])+(s[a]=t)];return r.i=o,r.j=a,i})(n)}function u(e,t){var n,i=[],r=(typeof e)[0];if(t&&"o"==r)for(n in e)try{i.push(u(e[n],t-1))}catch(e){}return i.length?i:"s"==r?e:e+"\0"}function f(e,t){for(var n,i=e+"",r=0;r<i.length;)t[p&r]=p&(n^=19*t[p&r])+i.charCodeAt(r++);return d(t)}function d(e){return String.fromCharCode.apply(0,e)}t.exports=function(e,p){if(p&&!0===p.global)return p.global=!1,Math.random=t.exports(e,p),p.global=!0,Math.random;var c=[],l=(f(u(p&&p.entropy||!1?[e,d(i)]:0 in arguments?e:function(e){try{return r.crypto.getRandomValues(e=new Uint8Array(n)),d(e)}catch(e){return[+new Date,r,r.navigator&&r.navigator.plugins,r.screen,d(i)]}}(),3),c),new h(c));return f(d(l.S),i),function(){for(var e=l.g(6),t=o,i=0;e<a;)e=(e+i)*n,t*=n,i=l.g(1);for(;e>=s;)e/=2,t/=2,i>>>=1;return(e+i)/t}},t.exports.resetGlobal=function(){Math.random=c},f(Math.random(),i)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,n){!function(){"use strict";var e=.5*(Math.sqrt(3)-1),i=(3-Math.sqrt(3))/6,r=1/3,o=1/6,a=(Math.sqrt(5)-1)/4,s=(5-Math.sqrt(5))/20;function p(e){var t;t="function"==typeof e?e:e?function(){var e=0,t=0,n=0,i=1,r=(o=4022871197,function(e){e=e.toString();for(var t=0;t<e.length;t++){var n=.02519603282416938*(o+=e.charCodeAt(t));n-=o=n>>>0,o=(n*=o)>>>0,o+=4294967296*(n-=o)}return 2.3283064365386963e-10*(o>>>0)});var o;e=r(" "),t=r(" "),n=r(" ");for(var a=0;a<arguments.length;a++)(e-=r(arguments[a]))<0&&(e+=1),(t-=r(arguments[a]))<0&&(t+=1),(n-=r(arguments[a]))<0&&(n+=1);return r=null,function(){var r=2091639*e+2.3283064365386963e-10*i;return e=t,t=n,n=r-(i=0|r)}}(e):Math.random,this.p=c(t),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var n=0;n<512;n++)this.perm[n]=this.p[255&n],this.permMod12[n]=this.perm[n]%12}function c(e){var t,n=new Uint8Array(256);for(t=0;t<256;t++)n[t]=t;for(t=0;t<255;t++){var i=t+~~(e()*(256-t)),r=n[t];n[t]=n[i],n[i]=r}return n}p.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,n){var r,o,a=this.permMod12,s=this.perm,p=this.grad3,c=0,h=0,u=0,f=(t+n)*e,d=Math.floor(t+f),l=Math.floor(n+f),m=(d+l)*i,y=t-(d-m),g=n-(l-m);y>g?(r=1,o=0):(r=0,o=1);var v=y-r+i,x=g-o+i,w=y-1+2*i,b=g-1+2*i,T=255&d,S=255&l,M=.5-y*y-g*g;if(M>=0){var _=3*a[T+s[S]];c=(M*=M)*M*(p[_]*y+p[_+1]*g)}var k=.5-v*v-x*x;if(k>=0){var z=3*a[T+r+s[S+o]];h=(k*=k)*k*(p[z]*v+p[z+1]*x)}var U=.5-w*w-b*b;if(U>=0){var E=3*a[T+1+s[S+1]];u=(U*=U)*U*(p[E]*w+p[E+1]*b)}return 70*(c+h+u)},noise3D:function(e,t,n){var i,a,s,p,c,h,u,f,d,l,m=this.permMod12,y=this.perm,g=this.grad3,v=(e+t+n)*r,x=Math.floor(e+v),w=Math.floor(t+v),b=Math.floor(n+v),T=(x+w+b)*o,S=e-(x-T),M=t-(w-T),_=n-(b-T);S>=M?M>=_?(c=1,h=0,u=0,f=1,d=1,l=0):S>=_?(c=1,h=0,u=0,f=1,d=0,l=1):(c=0,h=0,u=1,f=1,d=0,l=1):M<_?(c=0,h=0,u=1,f=0,d=1,l=1):S<_?(c=0,h=1,u=0,f=0,d=1,l=1):(c=0,h=1,u=0,f=1,d=1,l=0);var k=S-c+o,z=M-h+o,U=_-u+o,E=S-f+2*o,C=M-d+2*o,F=_-l+2*o,R=S-1+.5,P=M-1+.5,j=_-1+.5,O=255&x,D=255&w,A=255&b,N=.6-S*S-M*M-_*_;if(N<0)i=0;else{var L=3*m[O+y[D+y[A]]];i=(N*=N)*N*(g[L]*S+g[L+1]*M+g[L+2]*_)}var H=.6-k*k-z*z-U*U;if(H<0)a=0;else{var I=3*m[O+c+y[D+h+y[A+u]]];a=(H*=H)*H*(g[I]*k+g[I+1]*z+g[I+2]*U)}var B=.6-E*E-C*C-F*F;if(B<0)s=0;else{var q=3*m[O+f+y[D+d+y[A+l]]];s=(B*=B)*B*(g[q]*E+g[q+1]*C+g[q+2]*F)}var W=.6-R*R-P*P-j*j;if(W<0)p=0;else{var G=3*m[O+1+y[D+1+y[A+1]]];p=(W*=W)*W*(g[G]*R+g[G+1]*P+g[G+2]*j)}return 32*(i+a+s+p)},noise4D:function(e,t,n,i){var r,o,p,c,h,u,f,d,l,m,y,g,v,x,w,b,T,S=this.perm,M=this.grad4,_=(e+t+n+i)*a,k=Math.floor(e+_),z=Math.floor(t+_),U=Math.floor(n+_),E=Math.floor(i+_),C=(k+z+U+E)*s,F=e-(k-C),R=t-(z-C),P=n-(U-C),j=i-(E-C),O=0,D=0,A=0,N=0;F>R?O++:D++,F>P?O++:A++,F>j?O++:N++,R>P?D++:A++,R>j?D++:N++,P>j?A++:N++;var L=F-(u=O>=3?1:0)+s,H=R-(f=D>=3?1:0)+s,I=P-(d=A>=3?1:0)+s,B=j-(l=N>=3?1:0)+s,q=F-(m=O>=2?1:0)+2*s,W=R-(y=D>=2?1:0)+2*s,G=P-(g=A>=2?1:0)+2*s,Y=j-(v=N>=2?1:0)+2*s,K=F-(x=O>=1?1:0)+3*s,Q=R-(w=D>=1?1:0)+3*s,V=P-(b=A>=1?1:0)+3*s,Z=j-(T=N>=1?1:0)+3*s,J=F-1+4*s,X=R-1+4*s,$=P-1+4*s,ee=j-1+4*s,te=255&k,ne=255&z,ie=255&U,re=255&E,oe=.6-F*F-R*R-P*P-j*j;if(oe<0)r=0;else{var ae=S[te+S[ne+S[ie+S[re]]]]%32*4;r=(oe*=oe)*oe*(M[ae]*F+M[ae+1]*R+M[ae+2]*P+M[ae+3]*j)}var se=.6-L*L-H*H-I*I-B*B;if(se<0)o=0;else{var pe=S[te+u+S[ne+f+S[ie+d+S[re+l]]]]%32*4;o=(se*=se)*se*(M[pe]*L+M[pe+1]*H+M[pe+2]*I+M[pe+3]*B)}var ce=.6-q*q-W*W-G*G-Y*Y;if(ce<0)p=0;else{var he=S[te+m+S[ne+y+S[ie+g+S[re+v]]]]%32*4;p=(ce*=ce)*ce*(M[he]*q+M[he+1]*W+M[he+2]*G+M[he+3]*Y)}var ue=.6-K*K-Q*Q-V*V-Z*Z;if(ue<0)c=0;else{var fe=S[te+x+S[ne+w+S[ie+b+S[re+T]]]]%32*4;c=(ue*=ue)*ue*(M[fe]*K+M[fe+1]*Q+M[fe+2]*V+M[fe+3]*Z)}var de=.6-J*J-X*X-$*$-ee*ee;if(de<0)h=0;else{var le=S[te+1+S[ne+1+S[ie+1+S[re+1]]]]%32*4;h=(de*=de)*de*(M[le]*J+M[le+1]*X+M[le+2]*$+M[le+3]*ee)}return 27*(r+o+p+c+h)}},p._buildPermutationTable=c,"undefined"!=typeof define&&define.amd&&define((function(){return p})),void 0!==n?n.SimplexNoise=p:"undefined"!=typeof window&&(window.SimplexNoise=p),void 0!==t&&(t.exports=p)}()},{}],8:[function(e,t,n){(function(e){(function(){e.CANVAS_SKETCH_DEFAULT_STORAGE_KEY=window.location.href}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1,8]);
//# sourceMappingURL=earth-crisis.js.map
